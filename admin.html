<!DOCTYPE html>
<html lang="ko">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>신청자 관리 시스템 - DNA 보험설계사 모집</title>
    <link rel="stylesheet" href="admin-styles.css">
</head>
<body>
    <div class="admin-container">
        <!-- Header -->
        <header class="admin-header">
            <div class="header-content">
                <h1>🧬 DNA 보험설계사 신청자 관리</h1>
                <div class="header-stats">
                    <div class="stat-box">
                        <span class="stat-label">총 신청자</span>
                        <span class="stat-value" id="totalApplicants">0</span>
                    </div>
                    <div class="stat-box">
                        <span class="stat-label">대기 중</span>
                        <span class="stat-value pending" id="pendingCount">0</span>
                    </div>
                    <div class="stat-box">
                        <span class="stat-label">연락 완료</span>
                        <span class="stat-value contacted" id="contactedCount">0</span>
                    </div>
                    <div class="stat-box">
                        <span class="stat-label">합격</span>
                        <span class="stat-value approved" id="approvedCount">0</span>
                    </div>
                </div>
            </div>
        </header>

        <!-- Controls Section -->
        <div class="controls-section">
            <div class="search-bar">
                <input type="text" id="searchInput" placeholder="이름, 연락처, 이메일로 검색..." class="search-input">
                <button class="btn-search" onclick="searchApplications()">🔍 검색</button>
            </div>
            
            <div class="filter-section">
                <label for="statusFilter">상태 필터:</label>
                <select id="statusFilter" onchange="filterApplications()">
                    <option value="all">전체</option>
                    <option value="pending">대기 중</option>
                    <option value="contacted">연락 완료</option>
                    <option value="approved">합격</option>
                    <option value="rejected">불합격</option>
                </select>

                <label for="incomeFilter">수익 목표:</label>
                <select id="incomeFilter" onchange="filterApplications()">
                    <option value="all">전체</option>
                    <option value="월 300-500만원">월 300-500만원</option>
                    <option value="월 500-700만원">월 500-700만원</option>
                    <option value="월 700-1000만원">월 700-1000만원</option>
                    <option value="월 1000만원 이상">월 1000만원 이상</option>
                </select>

                <label for="sortBy">정렬:</label>
                <select id="sortBy" onchange="sortApplications()">
                    <option value="newest">최신순</option>
                    <option value="oldest">오래된순</option>
                    <option value="name">이름순</option>
                </select>
            </div>

            <div class="action-buttons">
                <button class="btn-action btn-export" onclick="exportToCSV()">📥 CSV 내보내기</button>
                <button class="btn-action btn-delete-all" onclick="confirmDeleteAll()">🗑️ 전체 삭제</button>
                <button class="btn-action btn-refresh" onclick="loadApplications()">🔄 새로고침</button>
            </div>
        </div>

        <!-- Applications Table -->
        <div class="table-container">
            <table class="applications-table" id="applicationsTable">
                <thead>
                    <tr>
                        <th>번호</th>
                        <th>이름</th>
                        <th>연락처</th>
                        <th>이메일</th>
                        <th>나이</th>
                        <th>성별</th>
                        <th>주소</th>
                        <th>경력</th>
                        <th>수익 목표</th>
                        <th>관심 채널</th>
                        <th>신청일시</th>
                        <th>상태</th>
                        <th>관리</th>
                    </tr>
                </thead>
                <tbody id="applicationsBody">
                    <!-- Applications will be loaded here -->
                </tbody>
            </table>
            
            <div id="noData" class="no-data" style="display: none;">
                <div class="no-data-icon">📋</div>
                <p>아직 신청자가 없습니다.</p>
                <p class="no-data-sub">신청자가 지원하면 여기에 표시됩니다.</p>
            </div>
        </div>
    </div>

    <!-- Detail Modal -->
    <div id="detailModal" class="modal">
        <div class="modal-content detail-modal">
            <span class="close-modal" onclick="closeDetailModal()">&times;</span>
            <h2>📋 신청자 상세 정보</h2>
            <div id="detailContent"></div>
            <div class="modal-actions">
                <button class="btn-modal btn-close" onclick="closeDetailModal()">닫기</button>
            </div>
        </div>
    </div>

    <!-- Status Update Modal -->
    <div id="statusModal" class="modal">
        <div class="modal-content status-modal">
            <span class="close-modal" onclick="closeStatusModal()">&times;</span>
            <h2>상태 변경</h2>
            <div class="status-form">
                <label for="newStatus">새로운 상태:</label>
                <select id="newStatus" class="status-select">
                    <option value="pending">대기 중</option>
                    <option value="contacted">연락 완료</option>
                    <option value="approved">합격</option>
                    <option value="rejected">불합격</option>
                </select>
                
                <label for="statusNote">메모 (선택사항):</label>
                <textarea id="statusNote" rows="4" placeholder="상태 변경 사유나 메모를 입력하세요..."></textarea>
                
                <div class="modal-buttons">
                    <button class="btn-modal btn-save" onclick="updateStatus()">저장</button>
                    <button class="btn-modal btn-cancel" onclick="closeStatusModal()">취소</button>
                </div>
            </div>
        </div>
    </div>

    <script src="admin-script.js"></script>
</body>
</html>
